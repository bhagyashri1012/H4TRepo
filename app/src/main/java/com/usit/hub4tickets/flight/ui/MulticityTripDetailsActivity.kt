package com.usit.hub4tickets.flight.uiimport android.content.Intentimport android.os.Bundleimport android.support.v7.widget.LinearLayoutManagerimport com.usit.hub4tickets.Rimport com.usit.hub4tickets.domain.presentation.screens.BaseActivityimport com.usit.hub4tickets.flight.adapter.MulticityTripDetailsViewAdapterimport com.usit.hub4tickets.flight.model.FlightViewModelimport com.usit.hub4tickets.utils.Constantimport com.usit.hub4tickets.utils.webview.WebViewActivityimport kotlinx.android.synthetic.main.activity_trip_details.*import kotlinx.android.synthetic.main.common_toolbar.*class MulticityTripDetailsActivity : BaseActivity() {    var adapter: MulticityTripDetailsViewAdapter? = MulticityTripDetailsViewAdapter(        items = emptyList(),        listener = null,        context = this,        currencySymbol = ""    )    private var deeplink = ""    private var dataProvider = ""    private var price = ""    private var currencySymbol = ""    override fun getLayoutResource(): Int {        return R.layout.common_toolbar    }    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_trip_details)        init()        if (null != intent.extras) {            setDataToRecyclerViewAdapter(intent.extras.getParcelableArrayList(Constant.Path.MULTICITY_LIST_DETAILS))            tv_details_passengers.text = intent.extras.getString(Constant.Path.TOTAL_PASSENGERS)            tv_details_class.text = intent.extras.getString(Constant.Path.CABIN_CLASS)            // (intent.extras.getParcelable(Constant.Path.MULTICITY_LIST_DETAILS) as ResponseDataMulticity).currency +         " " +            price = intent.extras.getString(Constant.Path.PRICE)            deeplink = intent.extras.getString(Constant.Path.URL)            currencySymbol = intent.extras.getString(Constant.Path.CURRENCYSYMBOL)            tv_details_price.text = price            //tv_total_deals.text = "1 Deal from " + response?.currency + " " + intent.extras.getString(Constant.Path.PRICE)            tv_total_deals.text = "1 Deal from " + currencySymbol + " " + intent.extras.getString(Constant.Path.PRICE)        }        btn_continue_booking.setOnClickListener {            val intent = Intent(this, WebViewActivity::class.java)            intent.putExtra(Constant.Path.URL, deeplink)            intent.putExtra(Constant.Path.HEADING, dataProvider)            startActivity(intent)        }    }    private fun init() {        title = resources.getString(R.string.flight_details)        mainToolbar.setNavigationOnClickListener { onBackPressed() }        val layoutManager = LinearLayoutManager(this)        recycler_view!!.layoutManager = layoutManager    }    private fun setDataToRecyclerViewAdapter(responseData: List<FlightViewModel.MultiCityResult>?) {        adapter = MulticityTripDetailsViewAdapter(responseData, null, this, currencySymbol)        recycler_view!!.adapter = adapter    }}
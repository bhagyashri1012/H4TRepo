package com.usit.hub4tickets.commonimport android.os.Bundleimport com.usit.hub4tickets.Rimport com.usit.hub4tickets.domain.presentation.screens.BaseActivityimport com.usit.hub4tickets.flight.ui.FlightMainFragmentimport com.usit.hub4tickets.hotel.HotelsMainFragmentimport com.usit.hub4tickets.utils.Constantimport kotlinx.android.synthetic.main.common_toolbar.*/** * Created by Bhagyashri Burade * Date: 05/11/2018 * Email: bhagyashri.burade@usit.net.in */class MainCommonActivity : BaseActivity() {    private var flihtMainFrag: FlightMainFragment? = null    private var hotelsMainFrag: HotelsMainFragment? = null    override fun getLayoutResource(): Int {        return R.layout.common_toolbar    }    private var activityTitle: String?=null    override fun onCreate(savedInstanceState: Bundle?) {        super.onCreate(savedInstanceState)        setContentView(R.layout.activity_main_common)        if (null != intent.extras) {            activityTitle=intent.getStringExtra(Constant.Path.ACTIVITY_TITLE)            title = intent.getStringExtra(Constant.Path.ACTIVITY_TITLE)        }        mainToolbar.setNavigationOnClickListener { super.onBackPressed() }        when (activityTitle) {            getString(R.string.flight) -> {                if (savedInstanceState == null) {                    run { initFlightScreen() }                } else run { flihtMainFrag = supportFragmentManager.fragments[0] as FlightMainFragment }            }            getString(R.string.hotels) -> {                if (savedInstanceState == null) {                    run { initHotelsScreen() }                } else run { hotelsMainFrag = supportFragmentManager.fragments[0] as HotelsMainFragment }            }        }    }    private fun initFlightScreen() {        flihtMainFrag = FlightMainFragment()        supportFragmentManager.beginTransaction().replace(R.id.container_flight, flihtMainFrag!!).commit()    }    private fun initHotelsScreen() {        hotelsMainFrag = HotelsMainFragment()        supportFragmentManager.beginTransaction().replace(R.id.container_flight, hotelsMainFrag!!).commit()    }    override fun onBackPressed() {        if (flihtMainFrag!=null && !flihtMainFrag!!.onBackPressed()) {           // super.onBackPressed()        } else if (hotelsMainFrag!=null && !hotelsMainFrag!!.onBackPressed()) {            super.onBackPressed()        } else {            supportFragmentManager?.popBackStackImmediate()        }    }}